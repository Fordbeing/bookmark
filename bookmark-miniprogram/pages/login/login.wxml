<!--pages/login/login.wxml-->
<view class="login-page">
  <!-- щб╢щГишгЕще░ - хЫ╛цаЗхТМцаЗщвШхРМшбМ -->
  <view class="header">
    <view class="brand">
      <text class="logo">ЁЯФЦ</text>
      <text class="title">ф╣жчн╛чобчРЖ</text>
    </view>
    <text class="subtitle">Bookmark Manager</text>
  </view>

  <!-- чЩ╗х╜Х/ц│ихЖМхИЗцНв Tab -->
  <view class="tab-bar">
    <view 
      class="tab-item {{isLogin ? 'active' : ''}}" 
      bindtap="switchToLogin"
    >чЩ╗х╜Х</view>
    <view 
      class="tab-item {{!isLogin ? 'active' : ''}}" 
      bindtap="switchToRegister"
    >ц│ихЖМ</view>
  </view>

  <!-- чЩ╗х╜ХшбихНХ -->
  <view class="form-box" wx:if="{{isLogin}}">
    <view class="input-group">
      <text class="input-label">щВочо▒</text>
      <input 
        class="input" 
        type="text" 
        placeholder="ш╛УхЕецВичЪДщВочо▒" 
        value="{{loginForm.email}}"
        bindinput="onLoginEmailInput"
      />
    </view>

    <view class="input-group">
      <text class="input-label">хпЖчаБ</text>
      <input 
        class="input" 
        type="password" 
        placeholder="ш╛УхЕецВичЪДхпЖчаБ" 
        value="{{loginForm.password}}"
        bindinput="onLoginPasswordInput"
      />
    </view>

    <view class="remember-row">
      <switch 
        checked="{{loginForm.remember}}" 
        bindchange="onRememberChange"
        color="#6366f1"
      />
      <text>шо░ф╜ПцИС</text>
    </view>

    <view class="btn-row">
      <button 
        class="btn-login" 
        bindtap="handleLogin"
        loading="{{loading}}"
        disabled="{{loading}}"
      >{{loading ? 'чЩ╗х╜Хф╕н...' : 'чЩ╗х╜Х'}}</button>
      <button 
        class="btn-wx" 
        bindtap="handleWxLogin"
        loading="{{wxLoading}}"
        disabled="{{wxLoading}}"
      >ЁЯЯв х╛оф┐б</button>
    </view>
  </view>

  <!-- ц│ихЖМшбихНХ -->
  <view class="form-box" wx:else>
    <view class="input-group">
      <text class="input-label">чФицИ╖хРН</text>
      <input 
        class="input" 
        type="text" 
        placeholder="ш╛УхЕечФицИ╖хРН" 
        value="{{registerForm.username}}"
        bindinput="onRegisterUsernameInput"
      />
    </view>

    <view class="input-group">
      <text class="input-label">щВочо▒</text>
      <input 
        class="input" 
        type="text" 
        placeholder="ш╛УхЕецВичЪДщВочо▒" 
        value="{{registerForm.email}}"
        bindinput="onRegisterEmailInput"
      />
    </view>

    <view class="input-group">
      <text class="input-label">хпЖчаБ</text>
      <input 
        class="input" 
        type="password" 
        placeholder="шо╛ч╜охпЖчаБя╝ИшЗ│х░С6ф╜Ня╝Й" 
        value="{{registerForm.password}}"
        bindinput="onRegisterPasswordInput"
      />
    </view>

    <view class="input-group">
      <text class="input-label">чбошодхпЖчаБ</text>
      <input 
        class="input" 
        type="password" 
        placeholder="чбошодхпЖчаБ" 
        value="{{registerForm.confirmPassword}}"
        bindinput="onRegisterConfirmPasswordInput"
      />
    </view>

    <button 
      class="btn-register" 
      bindtap="handleRegister"
      loading="{{loading}}"
      disabled="{{loading}}"
    >{{loading ? 'ц│ихЖМф╕н...' : 'хИЫх╗║ш┤жцИ╖'}}</button>
  </view>

  <!-- х║ХщГицПРчд║ -->
  <view class="footer">
    <text>{{isLogin ? 'ц▓бцЬЙш┤жцИ╖я╝ЯчВ╣хЗ╗ф╕КцЦ╣ц│ихЖМ' : 'х╖▓цЬЙш┤жцИ╖я╝ЯчВ╣хЗ╗ф╕КцЦ╣чЩ╗х╜Х'}}</text>
  </view>
</view>
